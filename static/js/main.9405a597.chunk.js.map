{"version":3,"sources":["Components/Modal/Modal.module.css","Components/Error/Error.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","servises/api.js","Components/Modal/Modal.jsx","Components/Loader/Loader.jsx","Components/Error/Error.jsx","Components/App/App.js","index.js","Components/Searchbar/Searchbar.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","value","handleOnChange","e","setState","target","handleOnSubmit","preventDefault","onSubmit","props","this","className","Styles","SearchForm","type","onChange","autoComplete","placeholder","Component","ImageGalleryItem","data","onClick","id","role","src","imageURL","alt","tags","ImageGallery","openModal","length","map","item","key","Button","get","text","page","axios","Modal","overlayRef","createRef","handleKeyPressESC","keyCode","closeModal","handleBackdropClick","current","window","addEventListener","removeEventListener","children","Overlay","ref","App","color","height","width","Error","error","error__text","images","searchValue","isLoading","isModal","imageId","getDataApi","scrollHeight","document","documentElement","API","then","prevState","hits","catch","finally","scrollTo","top","behavior","handleSearchOnSubmit","handleClickOnMore","handleClickIsOpenModal","handleClickIsCloseModal","prevProps","imgModal","find","largeImageURL","massive","webformatURL","mapper","ReactDOM","render","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,YAAc,6B,wCCA7DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,oMCGNC,E,2MAKnBC,MAAQ,CACNC,MAAO,I,EAGTC,eAAiB,SAAAC,GACf,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,OAAOJ,S,EAGlCK,eAAiB,SAAAH,GACfA,EAAEI,kBAGFC,EAFqB,EAAKC,MAAlBD,UACU,EAAKR,MAAfC,OAER,EAAKG,SAAS,CAAEH,MAAO,M,wEAGf,IACAA,EAAUS,KAAKV,MAAfC,MACR,OACE,4BAAQU,UAAWC,IAAOb,WACxB,0BAAMS,SAAUE,KAAKJ,eAAgBK,UAAWC,IAAOC,YACrD,4BAAQC,KAAK,SAASH,UAAWC,IAAO,sBACtC,0BAAMD,UAAWC,IAAO,4BAAxB,WAGF,2BACED,UAAWC,IAAO,oBAClBG,SAAUL,KAAKR,eACfD,MAAOA,EACPa,KAAK,OACLE,aAAa,MACbC,YAAY,mC,GApCeC,a,gBCyBxBC,EAxBU,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAChC,OACE,wBACEA,QAAS,kBAAMA,EAAQD,EAAKE,KAC5BC,KAAK,eACLZ,UAAWC,IAAOO,kBAElB,yBACEK,IAAKJ,EAAKK,SACVC,IAAKN,EAAKO,KACVhB,UAAWC,IAAO,8B,iBCWXgB,EArBM,SAAC,GAAyB,IAAvBR,EAAsB,EAAtBA,KAAMS,EAAgB,EAAhBA,UAC5B,OACE,oCACGT,EAAKU,OAAS,GACb,wBAAInB,UAAWC,IAAOgB,cACnBR,EAAKW,KAAI,SAAAC,GAAI,OACZ,kBAAC,EAAD,CAAkBZ,KAAMY,EAAMX,QAASQ,EAAWI,IAAKD,EAAKV,W,iBCIzDY,EAVA,SAAC,GAAiB,IAAfb,EAAc,EAAdA,QAChB,OACE,4BAAQP,KAAK,SAASO,QAASA,EAASV,UAAWC,IAAOsB,QACxD,8C,iBCAOC,EAAM,SAACC,EAAMC,GACxB,OAAOC,IAAMH,IAAN,UAPa,2BAOb,gBANO,qCAMP,cACgCC,EADhC,uBALI,QAKJ,iBACgEC,EADhE,wBAJW,aAIX,qBAHO,M,iBCFKE,E,2MACnBC,WAAaC,sB,EAebC,kBAAoB,SAAAvC,GACA,KAAdA,EAAEwC,SACJ,EAAKlC,MAAMmC,c,EAIfC,oBAAsB,SAAA1C,GAAM,IAClB2C,EAAY,EAAKN,WAAjBM,QACJ3C,EAAEE,SAAWyC,GACf,EAAKrC,MAAMmC,c,mFAhBbG,OAAOC,iBAAiB,UAAWtC,KAAKgC,qB,6CAIxCK,OAAOE,oBAAoB,UAAWvC,KAAKgC,qB,+BAgBnC,IACAQ,EAAaxC,KAAKD,MAAlByC,SACR,OACE,oCACE,yBACEvC,UAAWC,IAAOuC,QAClBC,IAAK1C,KAAK8B,WACVnB,QAASX,KAAKmC,oBACdtB,KAAK,gBAEL,yBAAKZ,UAAWC,IAAO2B,OAAQW,S,GAvCNhC,a,yBCCdmC,E,2MACnBrD,MAAQ,G,wEAGN,OACE,6BACE,kBAAC,IAAD,CAAQc,KAAK,OAAOwC,MAAM,UAAUC,OAAQ,IAAKC,MAAO,W,GAN/BtC,a,iBCUlBuC,EAVD,SAAC,GAAkB,IAAhBP,EAAe,EAAfA,SACf,OACE,yBAAKvC,UAAWC,IAAO8C,OACrB,0BAAM/C,UAAWC,IAAO+C,aAAcT,KCEvBG,E,2MACnBrD,MAAQ,CACN4D,OAAQ,GACRC,YAAa,GACbxB,KAAM,EACNyB,WAAW,EACXC,SAAS,EACTC,QAAS,KACTN,OAAO,G,EAUTO,WAAa,SAAC7B,EAAMC,GAClB,IAAI6B,EAAe,EAEjBA,EADW,IAAT7B,EACa,EAEA8B,SAASC,gBAAgBF,aAAe,IAEzD,EAAK9D,SAAS,CAAE0D,WAAW,IAC3BO,EAAQjC,EAAMC,GACXiC,MAAK,YAAe,IAAZlD,EAAW,EAAXA,KACP,EAAKhB,UAAS,SAAAmE,GAAS,MAAK,CAC1BX,OAAO,GAAD,mBAAMW,EAAUX,QAAhB,YAA2BxC,EAAKoD,cAGzCC,OAAM,SAAAf,GACL,MAAM,IAAID,EAAMC,MAEjBgB,SAAQ,WACY,EAAK1E,MAAhB4D,OACG9B,OAAS,EAClB,EAAK1B,SAAS,CAAEsD,OAAO,IAEvB,EAAKtD,SAAS,CAAEsD,OAAO,IAEzB,EAAKtD,SAAS,CAAE0D,WAAW,IAC3Bf,OAAO4B,SAAS,CACdC,IAAKV,EACLW,SAAU,e,EAKlBC,qBAAuB,SAAA1C,GACrB,EAAKhC,SAAS,CAAEyD,YAAazB,EAAMwB,OAAQ,GAAIvB,KAAM,K,EAGvD0C,kBAAoB,WAAO,IACjB1C,EAAS,EAAKrC,MAAdqC,KACR,EAAKjC,SAAS,CACZiC,KAAMA,EAAO,K,EAIjB2C,uBAAyB,SAAA1D,GACvB,EAAKlB,SAAS,CACZ2D,SAAS,EACTC,QAAS1C,K,EAIb2D,wBAA0B,SAAA9E,GACxB,EAAKC,SAAS,CACZ2D,SAAS,K,kFA3DMmB,EAAWX,GAAY,IAAD,EACT7D,KAAKV,MAA3B6D,EAD+B,EAC/BA,YAAaxB,EADkB,EAClBA,KACjBkC,EAAUV,cAAgBA,GAAeU,EAAUlC,OAASA,GAC9D3B,KAAKuD,WAAWJ,EAAaxB,K,+BA4DvB,IAQgBf,EARjB,EACgDZ,KAAKV,MAApD4D,EADD,EACCA,OAAQE,EADT,EACSA,UAAWC,EADpB,EACoBA,QAASC,EAD7B,EAC6BA,QAASN,EADtC,EACsCA,MAUvCyB,GAHkB7D,EAGO0C,EAARJ,EAFNwB,MAAK,SAAAjF,GAAC,OAAIA,EAAEmB,KAAOA,MAGpC,OACE,oCACGyC,GACC,kBAAC,EAAD,CAAOnB,WAAYlC,KAAKuE,yBACtB,yBAAKzD,IAAK2D,EAASE,cAAe3D,IAAKyD,EAASxD,QAGpD,kBAAC,EAAD,CAAWnB,SAAUE,KAAKoE,uBAC1B,kBAAC,EAAD,CACE1D,KAnBS,SAAAkE,GACb,OAAOA,EAAQvD,KAAI,SAAA5B,GAAC,oBAClBsB,SAAUtB,EAAEoF,cACTpF,MAgBKqF,CAAO5B,GACb/B,UAAWnB,KAAKsE,yBAEjBtB,GAAS,kBAAC,EAAD,yBACTI,GAAa,kBAAC,EAAD,MACbF,EAAO9B,OAAS,GAAK,kBAAC,EAAD,CAAQT,QAASX,KAAKqE,yB,GApGnB7D,aCLjCuE,IAASC,OAAO,kBAAC,EAAD,CAAK/E,UAAWC,IAAOyC,MAASc,SAASwB,eAAe,U,kBCJxE9F,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,oBAAoB,qCAAqC,0BAA0B,2CAA2C,mBAAmB,sC,kBCAvPD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,yBAAyB,oD","file":"static/js/main.9405a597.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3YQ9J\",\"Modal\":\"Modal_Modal__3IEg5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__3pugk\",\"error__text\":\"Error_error__text__2tyXT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3PIzY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__22ILE\"};","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Styles from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = {\r\n    value: \"\"\r\n  };\r\n\r\n  handleOnChange = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleOnSubmit = e => {\r\n    e.preventDefault();\r\n    const { onSubmit } = this.props;\r\n    const { value } = this.state;\r\n    onSubmit(value);\r\n    this.setState({ value: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    return (\r\n      <header className={Styles.Searchbar}>\r\n        <form onSubmit={this.handleOnSubmit} className={Styles.SearchForm}>\r\n          <button type=\"submit\" className={Styles[\"SearchForm-button\"]}>\r\n            <span className={Styles[\"SearchForm-button-label\"]}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={Styles[\"SearchForm-input\"]}\r\n            onChange={this.handleOnChange}\r\n            value={value}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport Styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ data, onClick }) => {\r\n  return (\r\n    <li\r\n      onClick={() => onClick(data.id)}\r\n      role=\"presentation\"\r\n      className={Styles.ImageGalleryItem}\r\n    >\r\n      <img\r\n        src={data.imageURL}\r\n        alt={data.tags}\r\n        className={Styles[\"ImageGalleryItem-image\"]}\r\n      />\r\n    </li>\r\n  );\r\n};\r\nImageGalleryItem.propTypes = {\r\n  data: PropTypes.shape({\r\n    imageURL: PropTypes.string,\r\n    largeImageURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    id: PropTypes.number\r\n  }).isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n};\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport Styles from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ data, openModal }) => {\r\n  return (\r\n    <>\r\n      {data.length > 0 && (\r\n        <ul className={Styles.ImageGallery}>\r\n          {data.map(item => (\r\n            <ImageGalleryItem data={item} onClick={openModal} key={item.id} />\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nImageGallery.propTypes = {\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number\r\n    }).isRequired\r\n  ).isRequired,\r\n  openModal: PropTypes.func.isRequired\r\n};\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Styles from './Button.module.css';\r\n\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" onClick={onClick} className={Styles.Button}>\r\n      <span>loade more</span>\r\n    </button>\r\n  );\r\n};\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\nexport default Button;\r\n\r\n// window.scrollTo({\r\n//   top: document.documentElement.scrollHeight,\r\n//   behavior: 'smooth',\r\n// });","import axios from 'axios';\r\n\r\nconst API_BASIC_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '14889783-61c61fb8f41b7c3ced9fa5b10';\r\nconst TYPE = 'photo';\r\nconst ORIENTATION = 'horizontal';\r\nconst PERPAGE = 12;\r\n\r\nexport const get = (text, page) => {\r\n  return axios.get(\r\n    `${API_BASIC_URL}?key=${API_KEY}&q=${text}&image_type=${TYPE}&page=${page}&orientation=${ORIENTATION}&per_page=${PERPAGE}`,\r\n  );\r\n};\r\nexport const getNull = () => null;","import React, { Component, createRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Styles from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  overlayRef = createRef();\r\n\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    closeModal: PropTypes.func.isRequired\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyPressESC);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyPressESC);\r\n  }\r\n\r\n  handleKeyPressESC = e => {\r\n    if (e.keyCode === 27) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    const { current } = this.overlayRef;\r\n    if (e.target === current) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return (\r\n      <>\r\n        <div\r\n          className={Styles.Overlay}\r\n          ref={this.overlayRef}\r\n          onClick={this.handleBackdropClick}\r\n          role=\"presentation\"\r\n        >\r\n          <div className={Styles.Modal}>{children}</div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport default class App extends Component {\r\n  state = {};\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Loader type=\"Puff\" color=\"#3f51b5\" height={100} width={100} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Styles from './Error.module.css';\r\n\r\nconst Error = ({ children }) => {\r\n  return (\r\n    <div className={Styles.error}>\r\n      <span className={Styles.error__text}>{children}</span>\r\n    </div>\r\n  );\r\n};\r\nError.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\nexport default Error;","import React, { Component } from 'react';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport * as API from '../../servises/api';\nimport Modal from '../Modal/Modal';\nimport Loader from '../Loader/Loader';\n// import Styles from './App.module.css'\nimport Error from '../Error/Error';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    searchValue: '',\n    page: 1,\n    isLoading: false,\n    isModal: false,\n    imageId: null,\n    error: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchValue, page } = this.state;\n    if (prevState.searchValue !== searchValue || prevState.page !== page) {\n      this.getDataApi(searchValue, page);\n    }\n  }\n\n  getDataApi = (text, page) => {\n    let scrollHeight = 0;\n    if (page === 1) {\n      scrollHeight = 0;\n    } else {\n      scrollHeight = document.documentElement.scrollHeight - 144;\n    }\n    this.setState({ isLoading: true });\n    API.get(text, page)\n      .then(({ data }) => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...data.hits],\n        }));\n      })\n      .catch(error => {\n        throw new Error(error);\n      })\n      .finally(() => {\n        const { images } = this.state;\n        if (images.length < 1) {\n          this.setState({ error: true });\n        } else {\n          this.setState({ error: false });\n        }\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  handleSearchOnSubmit = text => {\n    this.setState({ searchValue: text, images: [], page: 1 });\n  };\n\n  handleClickOnMore = () => {\n    const { page } = this.state;\n    this.setState({\n      page: page + 1,\n    });\n  };\n\n  handleClickIsOpenModal = id => {\n    this.setState({\n      isModal: true,\n      imageId: id,\n    });\n  };\n\n  handleClickIsCloseModal = e => {\n    this.setState({\n      isModal: false,\n    });\n  };\n\n  render() {\n    const { images, isLoading, isModal, imageId, error } = this.state;\n    const mapper = massive => {\n      return massive.map(e => ({\n        imageURL: e.webformatURL,\n        ...e,\n      }));\n    };\n    const fined = (massive, id) => {\n      return massive.find(e => e.id === id);\n    };\n    const imgModal = fined(images, imageId);\n    return (\n      <>\n        {isModal && (\n          <Modal closeModal={this.handleClickIsCloseModal}>\n            <img src={imgModal.largeImageURL} alt={imgModal.tags} />\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.handleSearchOnSubmit} />\n        <ImageGallery\n          data={mapper(images)}\n          openModal={this.handleClickIsOpenModal}\n        />\n        {error && <Error>Image not found!</Error>}\n        {isLoading && <Loader />}\n        {images.length > 0 && <Button onClick={this.handleClickOnMore} />}\n      </>\n    );\n  }\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Styles from \"./styles.css\";\nimport App from \"./Components/App/App\";\n\nReactDOM.render(<App className={Styles.App} />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2OshC\",\"SearchForm\":\"Searchbar_SearchForm___ti9G\",\"SearchForm-button\":\"Searchbar_SearchForm-button__2Cx8C\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__2uW23\",\"SearchForm-input\":\"Searchbar_SearchForm-input__eIyZC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3FHhE\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3kcWk\"};"],"sourceRoot":""}
(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,a,t){e.exports={Overlay:"Modal_Overlay__1D7in",Modal:"Modal_Modal__vmMkb"}},22:function(e,a,t){},23:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__NxBf8"}},24:function(e,a,t){e.exports={Button:"Button_Button__3G_ri"}},27:function(e,a,t){e.exports={error:"Error_error__2nQdq"}},29:function(e,a,t){e.exports=t(73)},73:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(21),o=t.n(l),c=t(22),i=t.n(c),s=t(28),u=t(11),m=t(3),d=t(4),h=t(6),p=t(5),f=t(7),g=t(8),b=t.n(g),v=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(h.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={value:""},t.handleOnChange=function(e){t.setState({value:e.target.value})},t.handleOnSubmit=function(e){e.preventDefault(),(0,t.props.onSubmit)(t.state.value),t.setState({value:""})},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.state.value;return r.a.createElement("header",{className:b.a.Searchbar},r.a.createElement("form",{onSubmit:this.handleOnSubmit,className:b.a.Form},r.a.createElement("button",{type:"submit",className:b.a.button},r.a.createElement("span",{className:b.a.label},"Search")),r.a.createElement("input",{className:b.a.input,onChange:this.handleOnChange,value:e,type:"text",autoComplete:"off",placeholder:"Search images and photos"})))}}]),a}(n.Component),y=t(9),_=t.n(y),E=function(e){var a=e.data,t=e.onClick;return r.a.createElement("li",{onClick:function(){return t(a.id)},role:"presentation",className:_.a.ImageGalleryItem},r.a.createElement("img",{src:a.imageURL,alt:a.tags,className:_.a.ImageGalleryImage}))},S=t(23),k=t.n(S),O=function(e){var a=e.data,t=e.openModal;return r.a.createElement("div",null,a.length>0&&r.a.createElement("ul",{className:k.a.ImageGallery},a.map((function(e){return r.a.createElement(E,{data:e,onClick:t,key:e.id})}))))},I=t(24),C=t.n(I),M=function(e){var a=e.onClick;return r.a.createElement("button",{type:"button",onClick:a,className:C.a.Button},r.a.createElement("span",null,"loade more"))},w=t(25),j=t.n(w),N=function(e,a){return j.a.get("".concat("https://pixabay.com/api/","?key=").concat("14889783-61c61fb8f41b7c3ced9fa5b10","&q=").concat(e,"&image_type=").concat("photo","&page=").concat(a,"&orientation=").concat("horizontal","&per_page=").concat(12))},G=t(10),x=t.n(G),L=function(e){function a(){var e,t;Object(m.a)(this,a);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(l)))).overlayRef=Object(n.createRef)(),t.handleKeyPressESC=function(e){27===e.keyCode&&t.props.closeModal()},t.handleBackdropClick=function(e){var a=t.overlayRef.current;e.target===a&&t.props.closeModal()},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPressESC)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPressESC)}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",{className:x.a.Overlay,ref:this.overlayRef,onClick:this.handleBackdropClick,role:"presentation"},r.a.createElement("div",{className:x.a.Modal},e))}}]),a}(n.Component),R=(t(51),t(26)),B=t.n(R),A=function(){return r.a.createElement("div",null,r.a.createElement(B.a,{type:"Puff",color:"#3f51b5",height:100,width:100,timeout:1e3}))},D=t(27),P=t.n(D),U=function(e){var a=e.children;return r.a.createElement("div",{className:P.a.error},r.a.createElement("span",null,a))},K=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(h.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={images:[],searchValue:"",page:1,isLoading:!1,isModal:!1,imageId:null,error:!1},t.getDataApi=function(e,a){var n=0;n=1===a?0:document.documentElement.scrollHeight-144,t.setState({isLoading:!0}),N(e,a).then((function(e){var a=e.data;t.setState((function(e){return{images:[].concat(Object(u.a)(e.images),Object(u.a)(a.hits))}}))})).catch((function(e){throw new U(e)})).finally((function(){(t.state.images.length<1?t.setState({error:!0}):t.setState({error:!1}))&&t.setState({isLoading:!1}),window.scrollTo({top:n,behavior:"smooth"})}))},t.handleSearchOnSubmit=function(e){t.setState({searchValue:e,images:[],page:1})},t.handleClickOnMore=function(){var e=t.state.page;t.setState({page:e+1})},t.handleClickIsOpenModal=function(e){t.setState({isModal:!0,imageId:e})},t.handleClickIsCloseModal=function(){t.setState({isModal:!1})},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"componentDidUpdate",value:function(e,a){var t=this.state,n=t.searchValue,r=t.page;a.searchValue===n&&a.page===r||this.getDataApi(n,r)}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.isLoading,n=e.isModal,l=e.imageId,o=e.error,c=function(e,a){return e.find((function(e){return e.id===a}))}(a,l);return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{onSubmit:this.handleSearchOnSubmit}),t&&r.a.createElement(A,null),r.a.createElement(O,{data:function(e){return e.map((function(e){return Object(s.a)({imageURL:e.webformatURL},e)}))}(a),openModal:this.handleClickIsOpenModal}),a.length>0&&r.a.createElement(M,{onClick:this.handleClickOnMore}),n&&r.a.createElement(L,{closeModal:this.handleClickIsCloseModal},r.a.createElement("img",{src:c.largeImageURL,alt:c.tags})),o&&r.a.createElement(U,null,"Image not found!"))}}]),a}(n.Component);o.a.render(r.a.createElement(K,{className:i.a.App}),document.getElementById("root"))},8:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar___PA4l",Form:"Searchbar_Form__3NG4k",button:"Searchbar_button__3_PW5",label:"Searchbar_label__1noQd",input:"Searchbar_input__2raTR"}},9:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__9NYKI",ImageGalleryImage:"ImageGalleryItem_ImageGalleryImage__2wCKl"}}},[[29,1,2]]]);
//# sourceMappingURL=main.36af7ccf.chunk.js.map
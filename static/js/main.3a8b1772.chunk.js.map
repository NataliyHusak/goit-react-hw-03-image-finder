{"version":3,"sources":["components/Modal/Modal.module.css","components/Error/Error.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","servises/api.js","components/Modal/Modal.jsx","components/Loader/Loader.jsx","components/Error/Error.jsx","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","value","handleOnChange","e","setState","target","handleOnSubmit","preventDefault","onSubmit","props","this","className","styles","Form","type","button","label","input","onChange","autoComplete","placeholder","Component","ImageGalleryItem","data","onClick","id","role","src","imageURL","alt","tags","ImageGalleryImage","ImageGallery","openModal","length","map","item","key","Button","get","text","page","axios","Modal","overlayRef","createRef","handleKeyPressESC","keyCode","closeModal","handleBackdropClick","current","window","addEventListener","removeEventListener","children","Overlay","ref","App","color","height","width","Error","error","error__text","images","searchValue","isLoading","isModal","imageId","getDataApi","scrollHeight","document","documentElement","API","then","prevState","hits","catch","finally","scrollTo","top","behavior","handleSearchOnSubmit","handleClickOnMore","handleClickIsOpenModal","handleClickIsCloseModal","prevProps","imgModal","find","largeImageURL","massive","webformatURL","mapper","ReactDOM","render","Styles","getElementById"],"mappings":"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","file":"static/js/main.3a8b1772.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1D7in\",\"Modal\":\"Modal_Modal__vmMkb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__2nQdq\",\"error__text\":\"Error_error__text__1ZRkl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__NxBf8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3G_ri\"};","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = {\r\n    value: \"\"\r\n  };\r\n\r\n  handleOnChange = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleOnSubmit = e => {\r\n    e.preventDefault();\r\n    const { onSubmit } = this.props;\r\n    const { value } = this.state;\r\n    onSubmit(value);\r\n    this.setState({ value: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form onSubmit={this.handleOnSubmit} className={styles.Form}>\r\n          <button type=\"submit\" className={styles.button}>\r\n            <span className={styles.label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.input}\r\n            onChange={this.handleOnChange}\r\n            value={value}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ data, onClick }) => (\r\n  <li\r\n    onClick={() => onClick(data.id)}\r\n    role=\"presentation\"\r\n    className={styles.ImageGalleryItem}\r\n  >\r\n    <img\r\n      src={data.imageURL}\r\n      alt={data.tags}\r\n      className={styles.ImageGalleryImage}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  data: PropTypes.shape({\r\n    imageURL: PropTypes.string,\r\n    largeImageURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    id: PropTypes.number\r\n  }).isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n};\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ data, openModal }) => (\r\n  <>\r\n    {data.length && (\r\n      <ul className={styles.ImageGallery}>\r\n        {data.map(item => (\r\n          <ImageGalleryItem data={item} onClick={openModal} key={item.id} />\r\n        ))}\r\n      </ul>\r\n    )}\r\n  </>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number\r\n    }).isRequired\r\n  ).isRequired,\r\n  openModal: PropTypes.func.isRequired\r\n};\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => (\r\n    <button type=\"button\" onClick={onClick} className={styles.Button}>\r\n      <span>loade more</span>\r\n    </button>\r\n  );\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired\r\n};\r\nexport default Button;\r\n","import axios from \"axios\";\r\n\r\nconst API_BASIC_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"14889783-61c61fb8f41b7c3ced9fa5b10\";\r\nconst TYPE = \"photo\";\r\nconst ORIENTATION = \"horizontal\";\r\nconst PERPAGE = 12;\r\n\r\nexport const get = (text, page) => {\r\n  return axios.get(\r\n    `${API_BASIC_URL}?key=${API_KEY}&q=${text}&image_type=${TYPE}&page=${page}&orientation=${ORIENTATION}&per_page=${PERPAGE}`\r\n  );\r\n};\r\n\r\nexport const dsdddd = () => null;\r\n","import React, { Component, createRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  overlayRef = createRef();\r\n\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    closeModal: PropTypes.func.isRequired\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyPressESC);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyPressESC);\r\n  }\r\n\r\n  handleKeyPressESC = e => {\r\n    if (e.keyCode === 27) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    const { current } = this.overlayRef;\r\n    if (e.target === current) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return (\r\n      <>\r\n        <div\r\n          className={styles.Overlay}\r\n          ref={this.overlayRef}\r\n          onClick={this.handleBackdropClick}\r\n          role=\"presentation\"\r\n        >\r\n          <div className={styles.Modal}>{children}</div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport default class App extends Component {\r\n  state = {};\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Loader type=\"Puff\" color=\"#3f51b5\" height={100} width={100} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Error.module.css\";\r\n\r\nconst Error = ({ children }) => {\r\n  return (\r\n    <div className={styles.error}>\r\n      <span className={styles.error__text}>{children}</span>\r\n    </div>\r\n  );\r\n};\r\nError.propTypes = {\r\n  children: PropTypes.node.isRequired\r\n};\r\nexport default Error;\r\n","import React, { Component } from \"react\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport * as API from \"../../servises/api\";\nimport Modal from \"../Modal/Modal\";\nimport Loader from \"../Loader/Loader\";\nimport Error from \"../Error/Error\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    searchValue: \"\",\n    page: 1,\n    isLoading: false,\n    isModal: false,\n    imageId: null,\n    error: false\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchValue, page } = this.state;\n    if (prevState.searchValue !== searchValue || prevState.page !== page) {\n      this.getDataApi(searchValue, page);\n    }\n  }\n\n  getDataApi = (text, page) => {\n    let scrollHeight = 0;\n\n    if (\n      page === 1\n        ? (scrollHeight = 0)\n        : (scrollHeight = document.documentElement.scrollHeight - 144)\n    );\n\n    this.setState({ isLoading: true });\n    API.get(text, page)\n      .then(({ data }) => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...data.hits]\n        }));\n      })\n      .catch(error => {\n        throw new Error(error);\n      })\n      .finally(() => {\n        const { images } = this.state;\n        if (\n          images.length < 1\n            ? this.setState({ error: true })\n            : this.setState({ error: false })\n        )\n          this.setState({ isLoading: false });\n        window.scrollTo({\n          top: scrollHeight,\n          behavior: \"smooth\"\n        });\n      });\n  };\n\n  handleSearchOnSubmit = text => {\n    this.setState({ searchValue: text, images: [], page: 1 });\n  };\n\n  handleClickOnMore = () => {\n    const { page } = this.state;\n    this.setState({\n      page: page + 1\n    });\n  };\n\n  handleClickIsOpenModal = id => {\n    this.setState({\n      isModal: true,\n      imageId: id\n    });\n  };\n\n  handleClickIsCloseModal = e => {\n    this.setState({\n      isModal: false\n    });\n  };\n\n  render() {\n    const { images, isLoading, isModal, imageId, error } = this.state;\n    const mapper = massive => {\n      return massive.map(e => ({\n        imageURL: e.webformatURL,\n        ...e\n      }));\n    };\n    const fined = (massive, id) => {\n      return massive.find(e => e.id === id);\n    };\n    const imgModal = fined(images, imageId);\n    return (\n      <>\n        {isModal && (\n          <Modal closeModal={this.handleClickIsCloseModal}>\n            <img src={imgModal.largeImageURL} alt={imgModal.tags} />\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.handleSearchOnSubmit} />\n        <ImageGallery\n          data={mapper(images)}\n          openModal={this.handleClickIsOpenModal}\n        />\n        {error && <Error>Image not found!</Error>}\n        {isLoading && <Loader />}\n        {images.length > 0 && <Button onClick={this.handleClickOnMore} />}\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Styles from \"./styles.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(<App className={Styles.App} />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar___PA4l\",\"Form\":\"Searchbar_Form__3NG4k\",\"button\":\"Searchbar_button__3_PW5\",\"label\":\"Searchbar_label__1noQd\",\"input\":\"Searchbar_input__2raTR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__9NYKI\",\"ImageGalleryImage\":\"ImageGalleryItem_ImageGalleryImage__2wCKl\"};"],"sourceRoot":""}
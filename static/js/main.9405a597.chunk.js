(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,a,t){e.exports={Overlay:"Modal_Overlay__3YQ9J",Modal:"Modal_Modal__3IEg5"}},11:function(e,a,t){e.exports={error:"Error_error__3pugk",error__text:"Error_error__text__2tyXT"}},23:function(e,a,t){},24:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__3PIzY"}},25:function(e,a,t){e.exports={Button:"Button_Button__22ILE"}},29:function(e,a,t){e.exports=t(73)},73:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(22),c=t.n(o),l=t(23),i=t.n(l),s=t(28),u=t(12),m=t(3),h=t(4),d=t(6),p=t(5),g=t(7),f=t(8),b=t.n(f),y=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={value:""},t.handleOnChange=function(e){t.setState({value:e.target.value})},t.handleOnSubmit=function(e){e.preventDefault(),(0,t.props.onSubmit)(t.state.value),t.setState({value:""})},t}return Object(g.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this.state.value;return r.a.createElement("header",{className:b.a.Searchbar},r.a.createElement("form",{onSubmit:this.handleOnSubmit,className:b.a.SearchForm},r.a.createElement("button",{type:"submit",className:b.a["SearchForm-button"]},r.a.createElement("span",{className:b.a["SearchForm-button-label"]},"Search")),r.a.createElement("input",{className:b.a["SearchForm-input"],onChange:this.handleOnChange,value:e,type:"text",autoComplete:"off",placeholder:"Search images and photos"})))}}]),a}(n.Component),v=t(9),_=t.n(v),S=function(e){var a=e.data,t=e.onClick;return r.a.createElement("li",{onClick:function(){return t(a.id)},role:"presentation",className:_.a.ImageGalleryItem},r.a.createElement("img",{src:a.imageURL,alt:a.tags,className:_.a["ImageGalleryItem-image"]}))},E=t(24),O=t.n(E),k=function(e){var a=e.data,t=e.openModal;return r.a.createElement(r.a.Fragment,null,a.length>0&&r.a.createElement("ul",{className:O.a.ImageGallery},a.map((function(e){return r.a.createElement(S,{data:e,onClick:t,key:e.id})}))))},I=t(25),C=t.n(I),j=function(e){var a=e.onClick;return r.a.createElement("button",{type:"button",onClick:a,className:C.a.Button},r.a.createElement("span",null,"loade more"))},M=t(26),w=t.n(M),F=function(e,a){return w.a.get("".concat("https://pixabay.com/api/","?key=").concat("14889783-61c61fb8f41b7c3ced9fa5b10","&q=").concat(e,"&image_type=").concat("photo","&page=").concat(a,"&orientation=").concat("horizontal","&per_page=").concat(12))},N=t(10),x=t.n(N),G=function(e){function a(){var e,t;Object(m.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=Object(d.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(o)))).overlayRef=Object(n.createRef)(),t.handleKeyPressESC=function(e){27===e.keyCode&&t.props.closeModal()},t.handleBackdropClick=function(e){var a=t.overlayRef.current;e.target===a&&t.props.closeModal()},t}return Object(g.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPressESC)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPressESC)}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:x.a.Overlay,ref:this.overlayRef,onClick:this.handleBackdropClick,role:"presentation"},r.a.createElement("div",{className:x.a.Modal},e)))}}]),a}(n.Component),L=(t(51),t(27)),R=t.n(L),A=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={},t}return Object(g.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(R.a,{type:"Puff",color:"#3f51b5",height:100,width:100}))}}]),a}(n.Component),B=t(11),U=t.n(B),D=function(e){var a=e.children;return r.a.createElement("div",{className:U.a.error},r.a.createElement("span",{className:U.a.error__text},a))},P=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).state={images:[],searchValue:"",page:1,isLoading:!1,isModal:!1,imageId:null,error:!1},t.getDataApi=function(e,a){var n=0;n=1===a?0:document.documentElement.scrollHeight-144,t.setState({isLoading:!0}),F(e,a).then((function(e){var a=e.data;t.setState((function(e){return{images:[].concat(Object(u.a)(e.images),Object(u.a)(a.hits))}}))})).catch((function(e){throw new D(e)})).finally((function(){t.state.images.length<1?t.setState({error:!0}):t.setState({error:!1}),t.setState({isLoading:!1}),window.scrollTo({top:n,behavior:"smooth"})}))},t.handleSearchOnSubmit=function(e){t.setState({searchValue:e,images:[],page:1})},t.handleClickOnMore=function(){var e=t.state.page;t.setState({page:e+1})},t.handleClickIsOpenModal=function(e){t.setState({isModal:!0,imageId:e})},t.handleClickIsCloseModal=function(e){t.setState({isModal:!1})},t}return Object(g.a)(a,e),Object(h.a)(a,[{key:"componentDidUpdate",value:function(e,a){var t=this.state,n=t.searchValue,r=t.page;a.searchValue===n&&a.page===r||this.getDataApi(n,r)}},{key:"render",value:function(){var e,a=this.state,t=a.images,n=a.isLoading,o=a.isModal,c=a.imageId,l=a.error,i=(e=c,t.find((function(a){return a.id===e})));return r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(G,{closeModal:this.handleClickIsCloseModal},r.a.createElement("img",{src:i.largeImageURL,alt:i.tags})),r.a.createElement(y,{onSubmit:this.handleSearchOnSubmit}),r.a.createElement(k,{data:function(e){return e.map((function(e){return Object(s.a)({imageURL:e.webformatURL},e)}))}(t),openModal:this.handleClickIsOpenModal}),l&&r.a.createElement(D,null,"Image not found!"),n&&r.a.createElement(A,null),t.length>0&&r.a.createElement(j,{onClick:this.handleClickOnMore}))}}]),a}(n.Component);c.a.render(r.a.createElement(P,{className:i.a.App}),document.getElementById("root"))},8:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__2OshC",SearchForm:"Searchbar_SearchForm___ti9G","SearchForm-button":"Searchbar_SearchForm-button__2Cx8C","SearchForm-button-label":"Searchbar_SearchForm-button-label__2uW23","SearchForm-input":"Searchbar_SearchForm-input__eIyZC"}},9:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3FHhE","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__3kcWk"}}},[[29,1,2]]]);
//# sourceMappingURL=main.9405a597.chunk.js.map
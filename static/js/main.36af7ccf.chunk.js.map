{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Error/Error.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","servises/api.js","components/Modal/Modal.jsx","components/Loader/Loader.jsx","components/Error/Error.jsx","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","value","handleOnChange","e","setState","target","handleOnSubmit","preventDefault","onSubmit","props","this","className","styles","Form","type","button","label","input","onChange","autoComplete","placeholder","Component","ImageGalleryItem","data","onClick","id","role","src","imageURL","alt","tags","ImageGalleryImage","ImageGallery","openModal","length","map","item","key","Button","get","text","page","axios","Modal","overlayRef","createRef","handleKeyPressESC","keyCode","closeModal","handleBackdropClick","current","window","addEventListener","removeEventListener","children","Overlay","ref","Loader","color","height","width","timeout","Error","error","App","images","searchValue","isLoading","isModal","imageId","getDataApi","scrollHeight","document","documentElement","API","then","prevState","hits","catch","finally","scrollTo","top","behavior","handleSearchOnSubmit","handleClickOnMore","handleClickIsOpenModal","handleClickIsCloseModal","prevProps","imgModal","find","image","fined","webformatURL","mapper","largeImageURL","ReactDOM","render","Styles","getElementById"],"mappings":"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","file":"static/js/main.36af7ccf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1D7in\",\"Modal\":\"Modal_Modal__vmMkb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__NxBf8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3G_ri\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__2nQdq\"};","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = {\r\n    value: \"\"\r\n  };\r\n\r\n  handleOnChange = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleOnSubmit = e => {\r\n    e.preventDefault();\r\n    const { onSubmit } = this.props;\r\n    const { value } = this.state;\r\n    onSubmit(value);\r\n    this.setState({ value: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form onSubmit={this.handleOnSubmit} className={styles.Form}>\r\n          <button type=\"submit\" className={styles.button}>\r\n            <span className={styles.label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.input}\r\n            onChange={this.handleOnChange}\r\n            value={value}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ data, onClick }) => (\r\n  <li\r\n    onClick={() => onClick(data.id)}\r\n    role=\"presentation\"\r\n    className={styles.ImageGalleryItem}\r\n  >\r\n    <img\r\n      src={data.imageURL}\r\n      alt={data.tags}\r\n      className={styles.ImageGalleryImage}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  data: PropTypes.shape({\r\n    imageURL: PropTypes.string,\r\n    largeImageURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n    id: PropTypes.number\r\n  }).isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n};\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ data, openModal }) => (\r\n  <div>\r\n    {data.length > 0 && (\r\n      <ul className={styles.ImageGallery}>\r\n        {data.map(item => (\r\n          <ImageGalleryItem data={item} onClick={openModal} key={item.id} />\r\n        ))}\r\n      </ul>\r\n    )}\r\n  </div>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number\r\n    }).isRequired\r\n  ).isRequired,\r\n  openModal: PropTypes.func.isRequired\r\n};\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => (\r\n    <button type=\"button\" onClick={onClick} className={styles.Button}>\r\n      <span>loade more</span>\r\n    </button>\r\n  );\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired\r\n};\r\nexport default Button;\r\n","import axios from \"axios\";\r\n\r\nconst API_BASIC_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"14889783-61c61fb8f41b7c3ced9fa5b10\";\r\nconst TYPE = \"photo\";\r\nconst ORIENTATION = \"horizontal\";\r\nconst PERPAGE = 12;\r\n\r\nexport const get = (text, page) => {\r\n  return axios.get(\r\n    `${API_BASIC_URL}?key=${API_KEY}&q=${text}&image_type=${TYPE}&page=${page}&orientation=${ORIENTATION}&per_page=${PERPAGE}`\r\n  );\r\n};\r\n\r\n// заглушка:\r\n\r\nexport const ds = () => null;\r\n","import React, { Component, createRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  overlayRef = createRef();\r\n\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    closeModal: PropTypes.func.isRequired\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyPressESC);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyPressESC);\r\n  }\r\n\r\n  handleKeyPressESC = e => {\r\n    if (e.keyCode === 27) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    const { current } = this.overlayRef;\r\n    if (e.target === current) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return (\r\n      <div\r\n        className={styles.Overlay}\r\n        ref={this.overlayRef}\r\n        onClick={this.handleBackdropClick}\r\n        role=\"presentation\"\r\n      >\r\n        <div className={styles.Modal}>{children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loaderin from \"react-loader-spinner\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div>\r\n      <Loaderin\r\n        type=\"Puff\"\r\n        color=\"#3f51b5\"\r\n        height={100}\r\n        width={100}\r\n        timeout={1000}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n\r\n","import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Error.module.css\";\r\n\r\nconst Error = ({ children }) => {\r\n  return (\r\n    <div className={styles.error}>\r\n      <span>{children}</span>\r\n    </div>\r\n  );\r\n};\r\nError.propTypes = {\r\n  children: PropTypes.node.isRequired\r\n};\r\nexport default Error;\r\n","import React, { Component } from \"react\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport * as API from \"../../servises/api\";\nimport Modal from \"../Modal/Modal\";\nimport Loader from \"../Loader/Loader\";\nimport Error from \"../Error/Error\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    searchValue: \"\",\n    page: 1,\n    isLoading: false,\n    isModal: false,\n    imageId: null,\n    error: false\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchValue, page } = this.state;\n    if (prevState.searchValue !== searchValue || prevState.page !== page) {\n      this.getDataApi(searchValue, page);\n    }\n  }\n\n  getDataApi = (text, page) => {\n    let scrollHeight = 0;\n\n    if (\n      page === 1\n        ? (scrollHeight = 0)\n        : (scrollHeight = document.documentElement.scrollHeight - 144)\n    );\n\n    this.setState({ isLoading: true });\n    API.get(text, page)\n      .then(({ data }) => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...data.hits]\n        }));\n      })\n      .catch(error => {\n        throw new Error(error);\n      })\n\n      .finally(() => {\n        const { images } = this.state;\n        if (\n          images.length < 1\n            ? this.setState({ error: true })\n            : this.setState({ error: false })\n        )\n          this.setState({ isLoading: false });\n        window.scrollTo({\n          top: scrollHeight,\n          behavior: \"smooth\"\n        });\n      });\n  };\n\n  handleSearchOnSubmit = text => {\n    this.setState({ searchValue: text, images: [], page: 1 });\n  };\n\n  handleClickOnMore = () => {\n    const { page } = this.state;\n    this.setState({\n      page: page + 1\n    });\n  };\n\n  handleClickIsOpenModal = id => {\n    this.setState({\n      isModal: true,\n      imageId: id\n    });\n  };\n\n  handleClickIsCloseModal = () => {\n    this.setState({\n      isModal: false\n    });\n  };\n\n  render() {\n    const { images, isLoading, isModal, imageId, error } = this.state;\n    const mapper = images => {\n      return images.map(image => ({\n        imageURL: image.webformatURL,\n        ...image\n      }));\n    };\n    const fined = (images, id) => {\n      return images.find(image => image.id === id);\n    };\n    const imgModal = fined(images, imageId);\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSearchOnSubmit} />\n        {isLoading && <Loader />}\n        <ImageGallery\n          data={mapper(images)}\n          openModal={this.handleClickIsOpenModal}\n        />\n\n        {images.length > 0 && <Button onClick={this.handleClickOnMore} />}\n\n        {isModal && (\n          <Modal closeModal={this.handleClickIsCloseModal}>\n            <img src={imgModal.largeImageURL} alt={imgModal.tags} />\n          </Modal>\n        )}\n\n        {error && <Error>Image not found!</Error>}\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Styles from \"./styles.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(<App className={Styles.App} />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar___PA4l\",\"Form\":\"Searchbar_Form__3NG4k\",\"button\":\"Searchbar_button__3_PW5\",\"label\":\"Searchbar_label__1noQd\",\"input\":\"Searchbar_input__2raTR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__9NYKI\",\"ImageGalleryImage\":\"ImageGalleryItem_ImageGalleryImage__2wCKl\"};"],"sourceRoot":""}